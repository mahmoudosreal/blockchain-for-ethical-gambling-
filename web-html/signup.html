<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ETHPLAY.IO - SIGNUP</title>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-storage.js"></script>
  </head>
  <body>
    <h1>ETHPLAY.IO - SIGNUP</h1>
    <br>
    <input type="text" placeholder="email" id="emailIdSignUp">
    <br><br>
    <input type="password" placeholder="password 1" id="passwordIdSignUp">
    <br>
    <input type="password" placeholder="password 2" id="password2IdSignUp">
    <br><br>
    <button onclick="doSignUp()">SIGNUP</button>
    <br><br><br><br>
    <button onclick="doHome()">HOME</button>
    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      var firebaseConfig = {
        apiKey: "AIzaSyC_Y1II2C9KPhWVrUHSas3hJMZ9PZgpAQc",
        authDomain: "blockchainfirebase.firebaseapp.com",
        databaseURL: "https://blockchainfirebase-default-rtdb.firebaseio.com",
        projectId: "blockchainfirebase",
        storageBucket: "blockchainfirebase.appspot.com",
        messagingSenderId: "128824515834",
        appId: "1:128824515834:web:15f4e0f1dddb13e3737d43",
        measurementId: "G-7SN03YEDEW"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();

      function goToLogIn () {
        location.href = "login.html";
      }

      function doSignUp () {
        var emailValue = document.getElementById('emailIdSignUp').value;
        var passwordValue = document.getElementById('passwordIdSignUp').value;
        var password2Value = document.getElementById('password2IdSignUp').value;
        console.log(emailValue, passwordValue, password2Value);

        if (passwordValue == password2Value) {
          firebase.auth().createUserWithEmailAndPassword(emailValue, passwordValue)
          .then((user) => {
          })
          .catch((error) => {
            var errorCode = error.code;
            var errorMessage = error.message;
            alert(errorCode, errorMessage);
          });
        }
        else {
          alert('wrong in password');
        }
      }

      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          location.href = "index.html";
        }
        else {
        }
      });

      function doHome() {
        location.href = "index.html";
      }
    </script>
  </body>
</html>
